<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/crystalcss/build/css/crystal.css">
  <link rel="stylesheet" href="style.css">
  <title>Random Business Name Generator</title>
  <script src="choices.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      $("#name").on("click", function () {
        $("#name_form").toggle();
      });
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="header">
      <h3>Random Business Name Generator | Developed by Jonathan Reiterman | <span id="version"></span></h3>
    </div>
    <div class="content">
      <div class="vertical-container w-Third">
        <div class="pad">
          <h3 class="ccss-centre">Control Panel</h3>
          <label title="Put a randomly generated name, like 'Bob', at the beginning of your company's name. Ex: Bob's newspapers.">
            <input type="checkbox" id="name">Random person's name at beginning
          </label><br>
          <form action="" id="name_form" hidden>
            <label><input type="radio" name="gender" id="rb_male" value="1">Male</label><br>
            <label><input type="radio" name="gender" id="rb_female" value="0">Female</label><br>
            <label><input type="radio" name="gender" id="rb_both" value="2" checked>Both</label><br>
            <label title=""><input type="checkbox" id="end" title="" checked>Keep end piece of name</label><br>
          </form>
          <button class="ccss-button green size-large" type="button" id="generateName" onclick="idGet('generated').innerHTML = generate();">Generate Name
          </button>
          <button class="ccss-button red size-large" type="button" id="clear" onclick="idGet('history').innerHTML = ''">Clear History</button>
          <br><br>
          <p>Please Note that these names are completely random and sometimes might not make much sense, like for example 'Don's
             Hourglass farm'</p>
        </div>
      </div>
      <div class="vertical-container w-Third">
        <div class="pad">
          <br><br>
          <div id="generated"></div>
        </div>
      </div>
      <div class="vertical-container w-Third" id="right">
        <div id="history-title">History:</div>
        <div id="history"></div>
      </div>
    </div>
    <div class="footer">
      <a href="https://github.com/jtw-r/rbng" target="_blank">Check out the source code on Github</a>
    </div>
  </div>

  <script>

    //
    // Constants
    //
    let AppVersion = "1.2.3"


    //
    // Generic Functions:
    //
    function idGet(what) {
      return document.getElementById(what);
    }

    function choose(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }


    //
    // Init
    //
    function __init__() {
      idGet('version').innerHTML = "Version: " + AppVersion;
    }



    generate = function () {
      choose_namedata = function () {
        var p_name = choose(namedata);
        if (idGet('rb_female').checked) {
          p_gender = 0;
        } else if (idGet('rb_male').checked) {
          p_gender = 1;
        } else {
          p_gender = 2;
        }
        if (p_name[0] == p_gender || p_gender == 2) {
          return p_name[1];
        } else {
          return choose_namedata();
        }
      }

      if (idGet('generated').innerHTML != "") {
        idGet('history').innerHTML += (idGet('generated').innerHTML) + '<br>';
        idGet('right').scrollTop = idGet('right').scrollHeight - idGet('right').clientHeight;
      }

      let b_name = "";
      let choice = choose(thingdata);

      if (idGet('name').checked === true) {
        b_name += choose_namedata() + "\'s ";
        if (idGet('end').checked === true) {
          b_name += choice[4] + " " + (choose(endingdata));
        } else {
          if (choice[3] == 0) {
            b_name += choice[4] + "s";
          } else {
            if (choice[3] == 1) {
              b_name += choice[4];
            } else {
              b_name += choice[4] + choice[3];
            }
          }
        }
      } else {
        var beginingchoice = [];
        for (i = 0; i < 3; i++) {
          if (choice[i]) {
            beginingchoice.push(beginingdata[i])
          }
        }
        b_name += (choose(beginingchoice)) + " " + choice[4] + " " + (choose(endingdata));
      }

      return b_name;
    }

    __init__();

  </script>
</body>
</html>